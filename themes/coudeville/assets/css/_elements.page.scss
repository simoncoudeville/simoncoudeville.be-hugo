/*
    Elements: Page
    ---
    Default markup for page level elements
*/

// CSS vars

@mixin light-scheme {
    --html-background-color: White;
    --page-background-color: var(--html-background-color);
    --page-heading-color: var(--global-color-neutral-xxx-dark);
    --page-text-color: var(--page-heading-color);
    --page-link-color: var(--page-heading-color);
    --page-meta-color: var(--color-neutral);
    --page-selection-color: var(--global-color-alpha);
    --header-meta-color: var(--page-meta-color);
    --intro-color: var(--page-heading-color);
    --intro-background-color: var(--html-background-color);
    --cover-background-color: var(--global-color-alpha);
    --prism-text-color: var(--global-color-neutral-xx-light);
    --prism-comment-color: var(--global-color-neutral-light);
    --prism-background-color: var(--global-color-neutral-xxx-dark);
    --prism-scroll-thumb-color: var(--global-color-neutral-dark);
    --prism-keyword-color: var(--global-color-beta);
    --prism-function-color: var(--global-color-alpha);
    --prism-variable-color: var(--global-color-gamma);
    --prism-selector-color: var(--global-color-gamma);
    --prism-property-color: var(--prism-text-color);
    --example-background-color: var(--global-color-neutral-xxxxx-light);
    --example-background-color: var(--global-color-neutral-xxxxx-light);
    --baseline-color: hsla(var(--global-hue-color-gamma), var(--global-saturation-color-gamma), var(--global-lightness-color-gamma), .50);
    --baseline-background: hsla(var(--global-hue-color-gamma), var(--global-saturation-color-gamma), var(--global-lightness-color-gamma), .25);
    --toggle-background-color: var(--global-color-neutral-xx-light);
    --toggle-background-color-checked: var(--global-color-alpha);
    --toggle-border-color: var(--toggle-background-color);
    --toggle-border-color-checked: var(--toggle-background-color-checked);
    --toggle-switch-border-color-active: hsl(var(--global-hue-color-alpha),var(--global-saturation-color-alpha),var(--global-lightness-color-alpha));
    --toggle-switch-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    --toggle-switch-shadow-active: 0 1px 3px rgba(0, 0, 0, 0.2), 0 0 0 3px hsla(var(--global-hue-color-alpha),var(--global-saturation-color-alpha),var(--global-lightness-color-alpha),.25);
    --toggle-label-color: var(--color-neutral);
}

@mixin dark-scheme {
    --html-background-color: var(--global-color-neutral-xxxx-dark);
    --page-heading-color: var(--global-color-neutral-xxx-light);
    --cover-background-color: var(--html-background-color);
    --example-background-color: var(--prism-background-color);
    --toggle-background-color: transparent;
    --toggle-border-color: var(--color-neutral);
    --toggle-background-color-checked: var(--toggle-background-color);
    --toggle-border-color-checked: var(--global-color-alpha);
    --toggle-switch-border-color-checked: white;
    --toggle-switch-shadow-checked: 0 0 0 1px rgba(0,0,0,.25), 0 0 0 4px hsla(var(--global-hue-color-alpha),var(--global-saturation-color-alpha),var(--global-lightness-color-alpha),.75);
}

:root {
    --global-color-alpha: #{$color-alpha};
    --global-hue-color-alpha: #{hue($color-alpha)};
    --global-saturation-color-alpha: #{saturation($color-alpha)};
    --global-lightness-color-alpha: #{lightness($color-alpha)};

    --global-color-beta: #{$color-beta};
    --global-hue-color-beta: #{hue($color-beta)};
    --global-saturation-color-beta: #{saturation($color-beta)};
    --global-lightness-color-beta: #{lightness($color-beta)};

    --global-color-gamma: #{$color-gamma};
    --global-hue-color-gamma: #{hue($color-gamma)};
    --global-saturation-color-gamma: #{saturation($color-gamma)};
    --global-lightness-color-gamma: #{lightness($color-gamma)};

    --global-color-neutral-xxxxx-light: hsla(var(--global-hue-color-alpha), 5%, 97%, 1);
    --global-color-neutral-xxxx-light: hsla(var(--global-hue-color-alpha), 5%, 95%, 1);
    --global-color-neutral-xxx-light: hsla(var(--global-hue-color-alpha), 5%, 92.5%, 1);
    --global-color-neutral-xx-light: hsla(var(--global-hue-color-alpha), 5%, 85%, 1);
    --global-color-neutral-x-light: hsla(var(--global-hue-color-alpha), 5%, 75%, 1);
    --global-color-neutral-light: hsla(var(--global-hue-color-alpha), 5%, 62.5%, 1);
    --color-neutral: hsla(var(--global-hue-color-alpha), 5%, 50%, 1);
    --global-color-neutral-dark: hsla(var(--global-hue-color-alpha), 5%, 40%, 1);
    --global-color-neutral-x-dark: hsla(var(--global-hue-color-alpha), 7.5%, 30%, 1);
    --global-color-neutral-xx-dark: hsla(var(--global-hue-color-alpha), 7.5%, 20%, 1);
    --global-color-neutral-xxx-dark: hsla(var(--global-hue-color-alpha), 10%, 10%, 1);
    --global-color-neutral-xxxx-dark: hsla(var(--global-hue-color-alpha), 15%, 5%, 1);

    --global-baseline: #{6px / round($root-font-size-sm)}rem;
    --global-baseline-multiplier: 4;

    --whitespace-default: calc(var(--global-baseline) * var(--global-baseline-multiplier));
    --whitespace-double: calc(var(--whitespace-default) * 2);

    @include mq(bp3) {
        --global-baseline: #{8px / $root-font-size}rem;
    }

    @include light-scheme;

}

.is-inverted {
    @include dark-scheme;
}

@media (prefers-color-scheme: dark) {
    :root {
        @include dark-scheme;
    }

    .is-inverted {
        @include light-scheme;
    }
}

// styles

html {
    font-family: $alpha-font-family;
    font-weight: $alpha-font-weight;
    background-color: var(--html-background-color);
    color: var(--page-text-color);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    // font-feature-settings: "liga", "tnum";
    font-feature-settings: "zero";
    // font-kerning: normal;
    font-size: #{$root-font-size-sm/16px*100%};

    @include mq(bp3) {
        font-size: #{$root-font-size/16px*100%};
    }
}

body {
    position: relative;
    min-height: 100vh;
    // background-color: var(--page-background-color);
    line-height: baseline(var(--global-baseline-multiplier));
}

::selection {
    background-color: var(--page-selection-color);
    color: white;
    text-shadow: none;
}