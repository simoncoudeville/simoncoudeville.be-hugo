/*
    Elements: Page
    ---
    Default markup for page level elements
*/

// CSS vars

@mixin light-scheme {
    /* Light theme */
    --global-page-backgroundColor: var(--global-color-neutral-dark-a-025);
    --global-page-color: var(--global-color-neutral-dark-a-95);
    --global-heading-color: var(--global-color-neutral-dark-a-95);
    --global-link-color: var(--global-heading-color);
    --global-link-hover-color: var(--global-page-color);
    --global-meta-color: var(--global-color-neutral-dark-a-50);
    --global-border-color: var(--global-color-neutral-dark-a-10);
    --global-selection-color: var(--global-color-beta);

    --global-baseline-color: hsla(var(--global-hue-color-gamma), var(--global-saturation-color-gamma), var(--global-lightness-color-gamma), .50);
    --global-baseline-background: hsla(var(--global-hue-color-gamma), var(--global-saturation-color-gamma), var(--global-lightness-color-gamma), .25);
}

@mixin dark-scheme {
    /* Dark theme */
    --global-page-backgroundColor: var(--global-color-neutral-dark-a-95);
    --global-page-color: var(--global-color-neutral-light-a-95);
    --global-heading-color: var(--global-color-neutral-light-a-95);
    --global-meta-color: var(--global-color-neutral-light-a-50);
    --global-border-color: var(--global-color-neutral-light-a-10);
}

:root {
    /* colors */
    --global-color-alpha: #{$color-alpha};
    --global-hue-color-alpha: #{hue($color-alpha)};
    --global-saturation-color-alpha: #{saturation($color-alpha)};
    --global-lightness-color-alpha: #{lightness($color-alpha)};

    --global-color-beta: #{$color-beta};
    --global-hue-color-beta: #{hue($color-beta)};
    --global-saturation-color-beta: #{saturation($color-beta)};
    --global-lightness-color-beta: #{lightness($color-beta)};

    --global-color-gamma: #{$color-gamma};
    --global-hue-color-gamma: #{hue($color-gamma)};
    --global-saturation-color-gamma: #{saturation($color-gamma)};
    --global-lightness-color-gamma: #{lightness($color-gamma)};

    --global-neutral-hue: var(--global-hue-color-beta);
    --global-neutral-saturation: 5%;

    --global-color-neutral-light-a-025: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 90%, .025);
    --global-color-neutral-light-a-075: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 90%, .075);
    --global-color-neutral-light-a-05: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 90%, .05);
    --global-color-neutral-light-a-10: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 90%, .1);
    --global-color-neutral-light-a-15: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 90%, .15);
    --global-color-neutral-light-a-25: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 90%, .25);
    --global-color-neutral-light-a-50: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 90%, .5);
    --global-color-neutral-light-a-75: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 90%, .75);
    --global-color-neutral-light-a-85: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 90%, .85);
    --global-color-neutral-light-a-95: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 90%, .95);

    --global-color-neutral-dark-a-025: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 15%, .025);
    --global-color-neutral-dark-a-075: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 15%, .075);
    --global-color-neutral-dark-a-05: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 15%, .05);
    --global-color-neutral-dark-a-10: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 15%, .1);
    --global-color-neutral-dark-a-15: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 15%, .15);
    --global-color-neutral-dark-a-25: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 15%, .25);
    --global-color-neutral-dark-a-50: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 15%, .5);
    --global-color-neutral-dark-a-75: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 15%, .75);
    --global-color-neutral-dark-a-85: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 15%, .85);
    --global-color-neutral-dark-a-95: hsla(var(--global-neutral-hue), var(--global-neutral-saturation), 15%, .95);

    /* type scale */
    --global-modular-scale-ratio: 1.125;
    --global-root-fontSize: #{$root-font-size-sm/16px*100%};

    --global-fontSize: 1rem;
    --global-fontSize-xxs: calc((var(--global-fontSize-xs) / var(--global-modular-scale-ratio)) / var(--global-modular-scale-ratio));
    --global-fontSize-xs: calc((var(--global-fontSize) / var(--global-modular-scale-ratio)) / var(--global-modular-scale-ratio));
    --global-fontSize-sm: calc(var(--global-fontSize-xs) * var(--global-modular-scale-ratio));
    --global-fontSize-md: calc(var(--global-fontSize) * var(--global-modular-scale-ratio));
    --global-fontSize-lg: calc(var(--global-fontSize-md) * var(--global-modular-scale-ratio));
    --global-fontSize-xl: calc(var(--global-fontSize-lg) * var(--global-modular-scale-ratio));
    --global-fontSize-xxl: calc(var(--global-fontSize-xl) * var(--global-modular-scale-ratio));
    --global-fontSize-xxxl: calc(var(--global-fontSize-xxl) * var(--global-modular-scale-ratio));

    /* baseline */
    --global-baseline: #{5px / round($root-font-size-sm)}rem;
    --global-baseline-multiplier: 5;

    --global-whitespace-default: calc(var(--global-baseline) * var(--global-baseline-multiplier));
    --global-whitespace-double: calc(var(--global-whitespace-default) * 2);

    --global-whitespace-xxs: var(--global-baseline);
    --global-whitespace-xs: calc(var(--global-baseline) * 2);
    --global-whitespace-sm: calc(var(--global-baseline) * 3);
    --global-whitespace-md: calc(var(--global-baseline) * 4);

    /* layout */
    --global-container-maxWidth: 35em;

    @include mq(bp3) {
        --global-root-fontSize: #{$root-font-size/16px*100%};
        --global-baseline: #{6px / $root-font-size}rem;
    }

    @include light-scheme;

}
//
// .is-inverted {
//     @include dark-scheme;
// }

@media (prefers-color-scheme: dark) {
    :root {
        @include dark-scheme;
    }
    //
    // .is-inverted {
    //     @include light-scheme;
    // }
}

// styles

html {
    font-family: $alpha-font-family;
    font-weight: $alpha-font-weight;
    background-color: var(--global-page-backgroundColor);
    color: var(--global-page-color);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: "zero", "liga";
    font-size: var(--global-root-fontSize);
    // letter-spacing: .01em;
}

body {
    position: relative;
    min-height: 100vh;
    // padding: var(--global-whitespace-default) 0 0;
    // background-color: var(--page-background-color);
    line-height: baseline(var(--global-baseline-multiplier));

    // @include mq(bp3) {
    //     padding: var(--global-whitespace-double) 0  var(--global-whitespace-default);
    // }
}

::selection {
    background-color: var(--global-selection-color);
    color: white;
    text-shadow: none;
}