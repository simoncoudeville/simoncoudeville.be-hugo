//
// Specific CSS styles for post 2
//

// Tools
@import '../tools.mixins';
@import '../tools.functions';
@import '../tools.ms';

// Settings
@import '../settings.colors';
@import '../settings.global';

// components
@import '../components.example';

$track-h: 14px;
$thumb-d: 20px;

@mixin track() {
    box-sizing: content-box;
    // border: 4px solid transparent;
    width: 100%; 
    height: $track-h;
    border-radius: $track-h;    
    box-shadow: inset 0 0 0 1px rgba(0,0,0,.025), inset 0 0 2px rgba(0, 0, 0, 0.25);
}

@mixin thumb() {
    border: 4px solid white;
    width: $thumb-d; 
    height: $thumb-d;
    border-radius: 50%;
    background-color: hsl(var(--palette-hue), var(--palette-saturation), var(--palette-lightness));
    box-shadow: 0 0 0 1px rgba(0,0,0,.05), 0 1px 5px rgba(0, 0, 0, 0.25);
}

.c-palette {
    --palette-hue: var(--global-hue-color-beta);
    --palette-saturation: var(--global-saturation-color-beta);
    --palette-lightness: var(--global-lightness-color-beta);      
    margin-bottom: var(--global-whitespace-base);      
    position: relative;
}

.c-palette__slider {
    width: 100%;
    margin: 0;
    padding: 0;
    min-height: $thumb-d;
    background: transparent;
    outline: none;
    display: block;
  
    &, &::-webkit-slider-thumb {
        -webkit-appearance: none;
    }
  
    &::-webkit-slider-runnable-track {
        @include track();
    }

	&::-moz-range-track { @include track; }
	&::-ms-track { @include track; }
	
	&::-webkit-slider-thumb {
		margin-top: .5*($track-h - $thumb-d);
		@include thumb;
	}

	&::-moz-range-thumb { @include thumb; }

	&::-ms-thumb {
		margin-top: 0;
		@include thumb;
	}
	
	&::-ms-tooltip { display: none }
  
    &:focus,
    &:active { 
        + .c-palette__output {
            opacity: 1;
            //transform: translate(calc((var(--hue) / 360) * -50%), 0);
        }
    }
}

.c-palette__slider--hue {
    &::-webkit-slider-runnable-track {
        background: linear-gradient(
        to right, 
        hsla(0, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(10, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(20, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(30, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(40, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(50, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(60, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(70, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(80, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(90, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(100, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(110, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(120, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(130, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(140, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(150, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(160, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(170, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(180, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(190, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(200, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(210, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(220, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(230, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(240, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(250, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(260, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(270, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(280, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(290, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(300, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(310, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(320, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(330, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(340, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(350, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(360, var(--palette-saturation), var(--palette-lightness), 1)
    );
    }
	&::-moz-range-track { 
        background: linear-gradient(
        to right, 
        hsla(0, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(10, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(20, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(30, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(40, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(50, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(60, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(70, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(80, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(90, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(100, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(110, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(120, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(130, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(140, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(150, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(160, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(170, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(180, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(190, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(200, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(210, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(220, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(230, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(240, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(250, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(260, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(270, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(280, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(290, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(300, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(310, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(320, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(330, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(340, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(350, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(360, var(--palette-saturation), var(--palette-lightness), 1)
    );
    }
	&::-ms-track { 
        background: linear-gradient(
        to right, 
        hsla(0, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(10, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(20, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(30, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(40, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(50, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(60, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(70, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(80, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(90, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(100, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(110, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(120, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(130, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(140, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(150, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(160, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(170, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(180, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(190, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(200, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(210, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(220, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(230, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(240, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(250, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(260, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(270, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(280, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(290, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(300, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(310, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(320, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(330, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(340, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(350, var(--palette-saturation), var(--palette-lightness), 1),
        hsla(360, var(--palette-saturation), var(--palette-lightness), 1)
    );
    }
}

.c-palette__slider--saturation {
    &::-webkit-slider-runnable-track {
        background: linear-gradient(to right, hsl(0,0%,var(--palette-lightness)), hsl(var(--palette-hue), 100%, var(--palette-lightness)));
    }
	&::-moz-range-track { 
        background: linear-gradient(to right, hsl(0,0%,var(--palette-lightness)), hsl(var(--palette-hue), 100%, var(--palette-lightness)));
    }
	&::-ms-track { 
        background: linear-gradient(to right, hsl(0,0%,var(--palette-lightness)), hsl(var(--palette-hue), 100%, var(--palette-lightness)));
    }
}

.c-palette__slider--lightness {
    &::-webkit-slider-runnable-track {
        background: linear-gradient(to right, black, hsl(var(--palette-hue), var(--palette-saturation), 50%), white);
    }
	&::-moz-range-track { 
        background: linear-gradient(to right, black, hsl(var(--palette-hue), var(--palette-saturation), 50%), white);
    }
	&::-ms-track { 
        background: linear-gradient(to right, black, hsl(var(--palette-hue), var(--palette-saturation), 50%), white);
    }
}

.c-palette__control {
    position: relative;

    & + & {
        margin-top: var(--global-whitespace-xs);
    }
}

.c-palette__output {
    opacity: 0;
    position: absolute;    
    width: $thumb-d * 2;    
    top: -30px;
    padding: 2px 2px 4px;
    font-size: 12px;
    line-height: 16px;
    text-align: center;
    border-radius: 2px;
    background-color: var(--global-text-color);
    color: var(--global-surfaceColor);
    transition-property: opacity;
    transition-duration: .1s;
    // transition-timing-function: var(--transition-easing);

    // little triangle
    &::before {
        content: "";
        display: block;
        position: absolute;
        bottom: -4px;
        left: 50%;
        margin-left: -4px;
        width: 0;
        height: 0;
        border-style: solid;
        border-width: 4px 4px 0 4px;
        border-color: var(--global-text-color) transparent transparent
            transparent;
    }
}

.c-palette__output--hue {
    left: calc((var(--palette-hue) / 360 * 100%) - #{$thumb-d / 2});
    transform: translate(calc((var(--palette-hue) / 360) * -50%), 0);
}

.c-palette__output--saturation {
    left: calc((var(--palette-saturation) * 100%) - #{$thumb-d / 2});
    transform: translate(calc(var(--palette-saturation) * -50%), 0);
}

.c-palette__output--lightness {
    --palette-output-position: var(--palette-lightness);
}

.c-palette__output--hue {
    left: calc((var(--palette-hue) / 360 * 100%) - #{$thumb-d / 2});
    transform: translate(calc((var(--palette-hue) / 360) * -50%), 0);
}

.c-palette__visual {
    border-radius: var(--global-whitespace-xs) var(--global-whitespace-xs) 0 0;
    display: block;
    // margin-bottom: var(--global-whitespace-s);
}

.c-palette__controls {
    // position: absolute;
    // left: 0;
    // bottom: 0;
    // right: 0;    
    border-radius: 0 0 var(--global-whitespace-xs) var(--global-whitespace-xs);
    // left: var(--global-whitespace-s);
    // bottom: var(--global-whitespace-s);
    // right: var(--global-whitespace-s);    
    // border-radius: var(--global-whitespace-xxs);
    padding: var(--global-whitespace-s);    
    // background-color: #fff;
    background-color: var(--global-surfaceColor);
}

.c-info::after {
    content: "Beta HSL(#{round(hue($color-beta))}, #{round(saturation($color-beta))}, #{round(lightness($color-beta))}), 
              Alpha HSL(#{round(hue($color-alpha))}, #{round(saturation($color-alpha))}, #{round(lightness($color-alpha))}),
              Gamma HSL(#{round(hue($color-gamma))}, #{round(saturation($color-gamma))}, #{round(lightness($color-gamma))})
              ";
}

// .c-palette__item:nth-child(1) {
//     fill: hsl(var(--palette-hue),calc(var(--palette-saturation) - 10% ),calc(var(--palette-lightness) - 12%));
// }

// .c-palette__item:nth-child(2) {
//     fill: hsl(var(--palette-hue),calc(var(--palette-saturation) - 5% ),calc(var(--palette-lightness) - 7.5%));
// }

// .c-palette__item:nth-child(3) {
//     fill: hsl(var(--palette-hue),var(--palette-saturation),var(--palette-lightness));
// }

// .c-palette__item:nth-child(4) {
//     fill: hsl(var(--palette-hue),calc(var(--palette-saturation) + 5% ),calc(var(--palette-lightness) + 7.5%));
// }

// .c-palette__item:nth-child(5) {
//     fill: hsl(var(--palette-hue),calc(var(--palette-saturation) + 10% ),calc(var(--palette-lightness) + 12%));
// }


.c-palette__item:nth-child(1) {
    fill: hsl(var(--palette-hue),var(--palette-saturation),calc(var(--palette-lightness) - 15%));
}

.c-palette__item:nth-child(2) {
    fill: hsl(var(--palette-hue),var(--palette-saturation),calc(var(--palette-lightness) - 7.5%));
}

.c-palette__item:nth-child(3) {
    fill: hsl(var(--palette-hue),var(--palette-saturation),var(--palette-lightness));
}

.c-palette__item:nth-child(4) {
    fill: hsl(var(--palette-hue),var(--palette-saturation),calc(var(--palette-lightness) + 7.5%));
}

.c-palette__item:nth-child(5) {
    fill: hsl(var(--palette-hue),var(--palette-saturation),calc(var(--palette-lightness) + 15%));
}

.c-swatches {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--c-swatch-min, var(--global-whitespace-double)), 1fr));
    margin-bottom: var(--global-whitespace-base);
}

.c-swatch--neutral-20,
.c-swatch--page-backgroundColor {
    box-shadow: inset 0 0 0 1px var(--global-border-color);
}

@media (prefers-color-scheme: dark) {
    .c-swatch--neutral-20 {
        box-shadow: none;
    }

    .c-swatch--neutral-80,
    .c-swatch--page-backgroundColor {
        box-shadow: inset 0 0 0 1px var(--global-border-color);
    }
}


.c-swatch--neutral-10,
.c-swatch--neutral-20,
.c-swatch--neutral-30,
.c-swatch--neutral-40 {
    --text-caption-color: var(--global-color-neutral-900);
}

.c-swatch--neutral-50,
.c-swatch--neutral-60,
.c-swatch--neutral-70,
.c-swatch--neutral-80,
.c-swatch--neutral-90 {
    --text-caption-color: var(--global-color-neutral-100);
}

.c-swatch {
    position: relative;
    padding-bottom: 100%;
    height: 0;
}

.c-swatch--half {
    padding-bottom: 0;
    height: var(--global-whitespace-l);
}

.c-swatch__name {
    padding: var(--global-whitespace-xxs) var(--global-whitespace-xs);
    @include ms-xs;
}

.u-bgcolor-neutral-10 {
    background-color: var(--global-color-neutral-100);
}

.u-bgcolor-neutral-20 {
    background-color: var(--global-color-neutral-200);
}

.u-bgcolor-neutral-30 {
    background-color: var(--global-color-neutral-300);
}

.u-bgcolor-neutral-40 {
    background-color: var(--global-color-neutral-400);
}

.u-bgcolor-neutral-50 {
    background-color: var(--global-color-neutral-500);
}

.u-bgcolor-neutral-60 {
    background-color: var(--global-color-neutral-600);
}

.u-bgcolor-neutral-70 {
    background-color: var(--global-color-neutral-700);
}

.u-bgcolor-neutral-80 {
    background-color: var(--global-color-neutral-800);
}

.u-bgcolor-neutral-90 {
    background-color: var(--global-color-neutral-900);
}

.u-bgcolor-global-page-backgroundColor {
    background-color: var(--global-backgroundColor);
}